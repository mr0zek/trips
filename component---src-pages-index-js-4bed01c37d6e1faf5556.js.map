{"version":3,"sources":["webpack:///./src/components/BlogPage/blogPage.js","webpack:///./src/pages/index.js"],"names":["BlogPage","posts","useStaticQuery","allMdx","nodes","gruppedPosts","forEach","f","key","undefined","frontmatter","date","Date","getFullYear","push","Object","keys","sort","reverse","map","year","class","post","title","fields","slug","featuredImage","withPrefix","publicURL","tags","to","style","backgroundImage","tag","BlogIndex"],"mappings":"+JA8EeA,EA3EE,WACf,IAqBMC,EArBOC,YAAe,cAqBTC,OAAOC,MACpBC,EAAe,GAcrB,OAbAJ,EAAMK,SAAQ,SAAAC,GACZ,IAAIC,EAAM,aACiBC,IAAvBF,EAAEG,YAAYC,MAA6C,OAAvBJ,EAAEG,YAAYC,OACpDH,EAAM,IAAII,KAAKL,EAAEG,YAAYC,MAAME,oBAEXJ,IAAtBJ,EAAaG,GACfH,EAAaG,GAAO,CAACD,GAGrBF,EAAaG,GAAKM,KAAKP,MAKzBQ,OAAOC,KAAKX,GAAcY,OAAOC,UAAUC,KAAI,SAAAC,GAC7C,OACE,6BACE,4BAAKA,GACL,wBAAIC,MAAM,0BACPhB,EAAae,GAAMD,KAAI,SAAAG,GACtB,IAE6C,EAFvCC,EAAQD,EAAKZ,YAAYa,OAASD,EAAKE,OAAOC,KAChDC,EAAgB,KACmB,OAAnCJ,EAAKZ,YAAYgB,gBACnBA,EAAgBC,YAAU,UAACL,EAAKZ,YAAYgB,qBAAlB,aAAC,EAAgCE,YAE7D,IAAMC,EAAOP,EAAKZ,YAAYmB,KACxBlB,EAAOW,EAAKZ,YAAYC,KAE9B,OACE,4BACE,yBAAKU,MAAM,aACT,kBAAC,IAAD,CAAMS,GAAIR,EAAKE,OAAOC,KAAMJ,MAAM,kBAAkBU,MAAO,CAAEC,gBAAgB,OAAQN,EAAT,OAE5E,yBAAKL,MAAM,kBACRQ,aADH,EACGA,EAAMV,KAAI,SAAAc,GAAS,OAAQ,kBAAC,IAAD,CAAMH,GAAI,SAAWG,EAAKZ,MAAM,OAAhC,KAA6CY,MACzE,kBAAC,IAAD,CAAMH,GAAIR,EAAKE,OAAOC,KAAMJ,MAAM,kBAChC,wBAAIA,MAAM,mBAAmBE,EAA7B,IAA8C,OAATZ,GAAiB,IAAMA,EAAO,IAAnE,kBCjDTuB,UATG,WAChB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKX,MAAM,cACX,kBAAC,EAAD","file":"component---src-pages-index-js-4bed01c37d6e1faf5556.js","sourcesContent":["import React from \"react\"\r\nimport { Link, graphql, useStaticQuery, withPrefix } from \"gatsby\"\r\n\r\nconst BlogPage = () => {\r\n  const data = useStaticQuery(graphql`\r\n        query {            \r\n          allMdx(sort: { fields: [frontmatter___date], order: DESC }) {\r\n              nodes {\r\n                  fields {\r\n                      slug\r\n                  }\r\n                  frontmatter {\r\n                      date(formatString: \"YYYY-MM-DD\")\r\n                      title\r\n                      description  \r\n                      tags                      \r\n                      featuredImage {                                           \r\n                        publicURL\r\n                      }           \r\n                  }              \r\n              }\r\n            }\r\n        }\r\n    `)\r\n\r\n  const posts = data.allMdx.nodes\r\n  const gruppedPosts = {}\r\n  posts.forEach(f => {\r\n    let key = \"Plany\"\r\n    if (f.frontmatter.date !== undefined && f.frontmatter.date !== null) {\r\n      key = new Date(f.frontmatter.date).getFullYear()\r\n    }\r\n    if (gruppedPosts[key] === undefined) {\r\n      gruppedPosts[key] = [f]\r\n    }\r\n    else {\r\n      gruppedPosts[key].push(f)\r\n    }\r\n  })\r\n\r\n  return (\r\n    Object.keys(gruppedPosts).sort().reverse().map(year => {\r\n      return (\r\n        <div>\r\n          <h2>{year}</h2>\r\n          <ol class=\"post-card-box clearfix\">\r\n            {gruppedPosts[year].map(post => {\r\n              const title = post.frontmatter.title || post.fields.slug\r\n              let featuredImage = null\r\n              if (post.frontmatter.featuredImage !== null) {\r\n                featuredImage = withPrefix(post.frontmatter.featuredImage?.publicURL)\r\n              }\r\n              const tags = post.frontmatter.tags\r\n              const date = post.frontmatter.date\r\n\r\n              return (\r\n                <li>\r\n                  <div class=\"post-card\">\r\n                    <Link to={post.fields.slug} class=\"post-card-image\" style={{ backgroundImage: `url(${featuredImage})` }}>\r\n                    </Link>\r\n                    <div class=\"post-card-body\">\r\n                      {tags?.map(tag => { return (<Link to={\"/tags#\" + tag} class=\"tag\">|&#32;{tag}</Link>) })}\r\n                      <Link to={post.fields.slug} class=\"post-card-link\">\r\n                        <h3 class=\"post-card-title\">{title} {date !== null && \"(\" + date + \")\"} </h3>\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              )\r\n            })}\r\n          </ol>\r\n        </div>\r\n      )\r\n    })\r\n  )\r\n}\r\n\r\n\r\nexport default BlogPage ","import React from \"react\"\r\nimport Layout from \"../components/layout\"\r\nimport SEO from \"../components/seo\"\r\nimport BlogPage from \"../components/BlogPage/blogPage\"\r\n\r\nconst BlogIndex = () => {\r\n  return (\r\n    <Layout>\r\n      <SEO title=\"All posts\" />\r\n      <BlogPage />\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default BlogIndex"],"sourceRoot":""}